<html>
	<head>
		<title>Easter Washington University Pre-Registration</title>
		<link href="jobfair.css" rel="stylesheet">
	</head>
	<body>
		<form name = "Information" id="Information" action="preRegistrationForm.php" method="post" onsubmit="return validate();">
			
			<img src="ewu_banner.jpg" width="100%" alt=""/>
			<div style="text-align: center;">
				<span id="EventText" >Event Name</span>
			</div>
			
			<fieldset>
				<legend>General Information:</legend>
				First Name: <input name="fName" id="fName" type="text" size="30"></br>
				Last Name: <input name="lName" id="lName" type="text" size="30"></br>
				Sex: <input type="radio" id="sex" name="sex" value="Male">Male
					<input type="radio" id="sex" name="sex" value="Female">Female</br>
				Email: <input name="email" id="email" type="text" size="30"></br>
				Phone: <input name="phone" id="phone" type="text" size="30"></br>
				Registrant Type: <input type="radio" onclick="javascript:IfStudent();" id="Student" name="registrantType" value="Student">Student/Alumnus
				<input type="radio" onclick="javascript:IfEmployer();" id="Employer" name="registrantType" value="Employer">Employer/Employee
				<input type="radio" onclick="javascript:IfGeneral();" id="General" name="registrantType" value="General">General</br>
			</fieldset>
					
			</br>
			
			<fieldset name="employerInfo" id="employerInfo" style="display:none;">
				<legend>Employer Information</legend>
				Business Name <input name="business" id="business" type="text" size="30"></br>
				Temp <input name="temp" id="temp" type="text" size="30"></br>
			</fieldset>
			
			<fieldset name="studentInfo" id="studentInfo" style="display:none;">
				<legend>Student Information</legend>
				Class Standing: <input type="radio" name="Class" value="Freshman">Freshman
				<input type="radio" name="Class" value="Sophomore">Sophomore
				<input type="radio" name="Class" value="Junior">Junior
				<input type="radio" name="Class" value="Senior">Senior
				<input type="radio" name="Class" value="PostBaccalaureate">Post Baccalaureate
				<input type="radio" name="Class" value="Graduate">Graduate Student
				<input type="radio" name="Class" id="Alumnus" value="Alumnus">Alumnus
				
				</br></br>
				
				College:
				<select name="college">
					<option value="EWU">Eastern Washington University</option>
					<option value="ZAG">Gonzaga University</option>
					<option value="Whitworth">Whitworth University</option>
					<option value="WSU">Washington State University</option>
					<option value="Other">Other</option>
				</select>
				
				</br></br>
				
				Major:
				<select name="major">
					<option value="Bus">Business</option>
					<option value="CS">Computer Science</option>
					<option value="MecEng">Mechanical Engineering</option>
					<option value="SecEngl">Secondary English</option>
					<option value="Other">Other</option>
				</select>
				
				</br></br>
				
				Student ID<input name="id" id="id" type="text" size="30">Leave this blank if Alumnus</br>
				Year of Graduation<input name="graduationYear" id="graduationYear" type="text" size="30"></br>
			</fieldset>
			
			</br>
			
			<input type="submit" name="submit" value="submit">
		</form>

		<script>
			window.onload = function() {
					IfGeneral();
			}
			
			function IfStudent(){
					document.getElementById("studentInfo").style.display = 'block';
					document.getElementById("employerInfo").style.display = 'none';
					resetEmployer();
			}
			
			function IfEmployer(){
				document.getElementById("employerInfo").style.display = 'block';
				document.getElementById("studentInfo").style.display = 'none';
				resetStudent();
			}
			
			function IfGeneral(){
				document.getElementById("employerInfo").style.display = 'none';
				document.getElementById("studentInfo").style.display = 'none';
				resetEmployer();
				resetStudent();
				ChangeText();
			}

		function validate()  
		{
			//Added in so it never validates
			return false;
			//Check if user has entered a valid firstname
			fName = document.getElementById("fName");
			var b = true;
			var a = false;
			if(fName == null || fName.value == "" || !isNaN(fName.value))
			{
				fName.style.backgroundColor = "red";
				alert("Please enter your first name using only letters");
				a = true;
				b = false;
			}
			else
			{
				fName.value = capitalizeFirstLetter(fName.value);
				fName.style.backgroundColor = "white";
			}
			
			//Check if user has entered a valid lastname
			lName = document.getElementById("lName");
			if(lName == null || lName.value == "" || !isNaN(lName.value))
			{
				lName.style.backgroundColor = "red";
				b = false;
				if(!a) { alert("Please enter your last name using only letters");
				a = true; }
			}
			else
			{
				lName.value = capitalizeFirstLetter(lName.value);
				lName.style.backgroundColor = "white";
			}
			
			//Check if user has selected a gender
			var radios = document.getElementsByName("sex");
			if(!checkRadios(radios))
			{
				b = false;
				if(!a)
				{
					alert("Please select your gender");
					a = true;
				}
			}
			
			var radios = document.getElementsByName("registrantType");
			if(!checkRadios(radios))
			{
				b = false;
				if(!a)
				{
					alert("Please select your registrant type");
					a = true;
				}
			}
			
			//Check if user has entered a valid email
			email = document.getElementById("email");
			if(email == null || email.value == "" || !checkEmail(email))
			{
				email.style.backgroundColor = "red";
				b = false;
				if(!a) { alert("Please enter a valid email");
				a = true; }
			}
			else
			{
				email.value = capitalizeFirstLetter(email.value);
				email.style.backgroundColor = "white";
			}
			
			//Check if user has entered a valid phone number
			phone = document.getElementById("phone");
			if(phone == null || phone.value == "" || isNaN(phone.value) || phone.value.length != 10)
			{
				phone.style.backgroundColor = "red";
				b = false;
				if(!a) { alert("Please enter a 10 digit phone number in the format(xxxxxxxxxx)");
				a = true; }
			}
			else
			{
				phone.style.backgroundColor = "white";
			}

		/*
		Don't do this part of error checking if Employer is not selected
		*/
		if(document.getElementById('Employer').checked){
			business = document.getElementById("business");
			if(business == null || business.value == "")
			{
				business.style.backgroundColor = "red";
				b = false;
				if(!a){
					alert("Please enter your business name");
					a = true;
				}
			}
			else
			{
				business.style.backgroundColor = "white";
			}
			
			temp = document.getElementById("temp");
			if(temp == null || temp.value == "")
			{
				temp.style.backgroundColor = "red";
				b = false;
				if(!a){
					alert("Please enter a temp");
					a = true;
				}
			}
			else
			{
				temp.style.backgroundColor = "white";
			}

		}
			
		/*
		Don't do this part of error checking if Student/Alumnus is not selected
		*/

		if(document.getElementById('Student').checked){	
			//Check if user has selected a class standing
			var classStanding = document.getElementsByName("Class");
			if(!checkRadios(classStanding))
			{
				b = false;
				if(!a)
				{
					alert("Please select your class standing");
					a = true;
				}
			}

			
			studentID = document.getElementById("id");
			if(studentID == null || studentID.value == "" || isNaN(studentID.value))
			{
				studentID.style.backgroundColor = "red";
				b = false;
				if(!a){
					alert("Please enter student ID using only numeric values");
					a = true;
				}
			}
			else
			{
				studentID.style.backgroundColor = "white";
			}
			
			graduation = document.getElementById("graduationYear");
			if(graduation == null || graduation.value == "" || isNaN(graduation.value) || graduation.value.length != 4)
			{
				graduation.style.backgroundColor = "red";
				b = false;
				if(!a){
					alert("Please enter your graduation year using only four numeric values");
					a = true;
				}
			}
			else
			{
				graduation.style.backgroundColor = "white";
			}
		}
			return b;
		}

		function resetEmployer(){
			business = document.getElementById("business");
			business.style.backgroundColor = "white";
			temp = document.getElementById("temp");
			temp.style.backgroundColor = "white";
		}

		function resetStudent(){
			studentID = document.getElementById("id");
			studentID.style.backgroundColor = "white";
			graduation = document.getElementById("graduationYear");
			graduation.style.backgroundColor = "white";
		}

		function checkEmail(email)   
		{  
		 if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email.value))  
		  {  
			return (true)  
		  }   
			return (false)  
		}  


		function checkRadios(radios){
			for(var i = 0, len = radios.length; i < len; i++){
				if(radios[i].checked){
				return true;
				}
			}
			return false;
		}


		function capitalizeFirstLetter(string) {
			return string.charAt(0).toUpperCase() + string.substr(1).toLowerCase();
		}
		
		function ChangeText(){
			var eventText = new XMLHttpRequest();
			eventText.open("GET", './jobfairname.txt', false);
			eventText.send(null);
			
			document.getElementById("EventText").innerHTML = "Pre-Registration Form for " + eventText.responseText;
		}

		</script>
	</body>
</html>
